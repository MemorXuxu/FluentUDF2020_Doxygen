\doxysection{Data\+Source Class Reference}
\hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source}{}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source}\index{DataSource@{DataSource}}
Inheritance diagram for Data\+Source\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classnumpy_1_1lib_1_1__datasource_1_1_data_source}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a16269fb9a28d58b139304177bc12ef20}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, destpath=os.\+curdir)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_ab3c211d2b7f3c35d46e368b2202f9477}{\+\_\+\+\_\+del\+\_\+\+\_\+}} (self)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a196dcab82747e8ed97a3ace1e65ac1a8}{abspath}} (self, path)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a73b5b3ac0457cad7a08b7f485a192cab}{exists}} (self, path)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_af965e937253d2ff67613f684139fffc6}{open}} (self, path, mode=\textquotesingle{}r\textquotesingle{}, \mbox{\hyperlink{namespacenumpy_1_1lib_1_1npyio_ab1000d1f2ea9878f60bc119650013894}{encoding}}=None, newline=None)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a7ead54bf26210e9aedbea04192d58a1d}{\+\_\+iszip}} (self, filename)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_acacfd10fc9db0378ad0c6e6ca63736c6}{\+\_\+iswritemode}} (self, mode)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_ac644896872eb7840c6d104d044030281}{\+\_\+splitzipext}} (self, filename)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a82a675c7f5afa93f524daaf336c562b0}{\+\_\+possible\+\_\+names}} (self, filename)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_aa98d2b896b35ce24b204189bc916e328}{\+\_\+isurl}} (self, path)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a5b76e0b862ff9c8e43050e000970ec78}{\+\_\+cache}} (self, path)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a1a2a708432ffd4811c9c3b96430ed1f9}{\+\_\+findfile}} (self, path)
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a84c65bc26234d20f9ca49dad5d29e396}{\+\_\+sanitize\+\_\+relative\+\_\+path}} (self, path)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a84f79e9272a455dd196cdccf50a1d97b}{\+\_\+destpath}}
\item 
\mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a891e6925c93554c65c2d10fe3312b3f4}{\+\_\+istmpdest}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}DataSource(destpath='.')

A generic data source file (file, http, ftp, ...).

DataSources can be local files or remote files/URLs.  The files may
also be compressed or uncompressed. DataSource hides some of the
low-level details of downloading the file, allowing you to simply pass
in a valid file path (or URL) and obtain a file object.

Parameters
----------
destpath : str or None, optional
    Path to the directory where the source file gets downloaded to for
    use.  If `destpath` is None, a temporary directory will be created.
    The default path is the current directory.

Notes
-----
URLs require a scheme string (``http://``) to be used, without it they
will fail::

    >>> repos = DataSource()
    >>> repos.exists('www.google.com/index.html')
    False
    >>> repos.exists('http://www.google.com/index.html')
    True

Temporary directories are deleted when the DataSource is deleted.

Examples
--------
::

    >>> ds = DataSource('/home/guido')
    >>> urlname = 'http://www.google.com/index.html'
    >>> gfile = ds.open('http://www.google.com/index.html')  # remote file
    >>> ds.abspath(urlname)
    '/home/guido/www.google.com/site/index.html'

    >>> ds = DataSource(None)  # use with temporary file
    >>> ds.open('/home/guido/foobar.txt')
    <open file '/home/guido.foobar.txt', mode 'r' at 0x91d4430>
    >>> ds.abspath('/home/guido/foobar.txt')
    '/tmp/tmpy4pgsP/home/guido/foobar.txt'\end{DoxyVerb}
 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a16269fb9a28d58b139304177bc12ef20}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a16269fb9a28d58b139304177bc12ef20} 
\index{DataSource@{DataSource}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{destpath = {\ttfamily os.curdir} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create a DataSource with a local path at destpath.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_repository_ae4d2ad64cc7d5c313c80ef877379ae79}{Repository}}.

\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_ab3c211d2b7f3c35d46e368b2202f9477}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_ab3c211d2b7f3c35d46e368b2202f9477} 
\index{DataSource@{DataSource}!\_\_del\_\_@{\_\_del\_\_}}
\index{\_\_del\_\_@{\_\_del\_\_}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_\_del\_\_()}{\_\_del\_\_()}}
{\footnotesize\ttfamily \+\_\+\+\_\+del\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Reimplemented in \mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_repository_ab3c211d2b7f3c35d46e368b2202f9477}{Repository}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a5b76e0b862ff9c8e43050e000970ec78}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a5b76e0b862ff9c8e43050e000970ec78} 
\index{DataSource@{DataSource}!\_cache@{\_cache}}
\index{\_cache@{\_cache}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_cache()}{\_cache()}}
{\footnotesize\ttfamily \+\_\+cache (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Cache the file specified by path.

Creates a copy of the file in the datasource cache.\end{DoxyVerb}
 \Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a1a2a708432ffd4811c9c3b96430ed1f9}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a1a2a708432ffd4811c9c3b96430ed1f9} 
\index{DataSource@{DataSource}!\_findfile@{\_findfile}}
\index{\_findfile@{\_findfile}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_findfile()}{\_findfile()}}
{\footnotesize\ttfamily \+\_\+findfile (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Searches for ``path`` and returns full path if found.

If path is an URL, _findfile will cache a local copy and return the
path to the cached file.  If path is a local file, _findfile will
return a path to that local file.

The search will include possible compressed versions of the file
and return the first occurrence found.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_repository_a1a2a708432ffd4811c9c3b96430ed1f9}{Repository}}.

\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_aa98d2b896b35ce24b204189bc916e328}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_aa98d2b896b35ce24b204189bc916e328} 
\index{DataSource@{DataSource}!\_isurl@{\_isurl}}
\index{\_isurl@{\_isurl}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_isurl()}{\_isurl()}}
{\footnotesize\ttfamily \+\_\+isurl (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Test if path is a net location.  Tests the scheme and netloc.\end{DoxyVerb}
 \Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_acacfd10fc9db0378ad0c6e6ca63736c6}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_acacfd10fc9db0378ad0c6e6ca63736c6} 
\index{DataSource@{DataSource}!\_iswritemode@{\_iswritemode}}
\index{\_iswritemode@{\_iswritemode}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_iswritemode()}{\_iswritemode()}}
{\footnotesize\ttfamily \+\_\+iswritemode (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Test if the given mode will open a file for writing.\end{DoxyVerb}
 \Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a7ead54bf26210e9aedbea04192d58a1d}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a7ead54bf26210e9aedbea04192d58a1d} 
\index{DataSource@{DataSource}!\_iszip@{\_iszip}}
\index{\_iszip@{\_iszip}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_iszip()}{\_iszip()}}
{\footnotesize\ttfamily \+\_\+iszip (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{filename }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Test if the filename is a zip file by looking at the file extension.\end{DoxyVerb}
 \Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a82a675c7f5afa93f524daaf336c562b0}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a82a675c7f5afa93f524daaf336c562b0} 
\index{DataSource@{DataSource}!\_possible\_names@{\_possible\_names}}
\index{\_possible\_names@{\_possible\_names}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_possible\_names()}{\_possible\_names()}}
{\footnotesize\ttfamily \+\_\+possible\+\_\+names (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{filename }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Return a tuple containing compressed filename variations.\end{DoxyVerb}
 \Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a84c65bc26234d20f9ca49dad5d29e396}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a84c65bc26234d20f9ca49dad5d29e396} 
\index{DataSource@{DataSource}!\_sanitize\_relative\_path@{\_sanitize\_relative\_path}}
\index{\_sanitize\_relative\_path@{\_sanitize\_relative\_path}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_sanitize\_relative\_path()}{\_sanitize\_relative\_path()}}
{\footnotesize\ttfamily \+\_\+sanitize\+\_\+relative\+\_\+path (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Return a sanitised relative path for which
os.path.abspath(os.path.join(base, path)).startswith(base)
\end{DoxyVerb}
 \Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_ac644896872eb7840c6d104d044030281}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_ac644896872eb7840c6d104d044030281} 
\index{DataSource@{DataSource}!\_splitzipext@{\_splitzipext}}
\index{\_splitzipext@{\_splitzipext}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_splitzipext()}{\_splitzipext()}}
{\footnotesize\ttfamily \+\_\+splitzipext (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{filename }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Split zip extension from filename and return filename.

*Returns*:
    base, zip_ext : {tuple}\end{DoxyVerb}
 \Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a196dcab82747e8ed97a3ace1e65ac1a8}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a196dcab82747e8ed97a3ace1e65ac1a8} 
\index{DataSource@{DataSource}!abspath@{abspath}}
\index{abspath@{abspath}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{abspath()}{abspath()}}
{\footnotesize\ttfamily abspath (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return absolute path of file in the DataSource directory.

If `path` is an URL, then `abspath` will return either the location
the file exists locally or the location it would exist when opened
using the `open` method.

Parameters
----------
path : str
    Can be a local file or a remote URL.

Returns
-------
out : str
    Complete path, including the `DataSource` destination directory.

Notes
-----
The functionality is based on `os.path.abspath`.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_repository_a196dcab82747e8ed97a3ace1e65ac1a8}{Repository}}.

\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a73b5b3ac0457cad7a08b7f485a192cab}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a73b5b3ac0457cad7a08b7f485a192cab} 
\index{DataSource@{DataSource}!exists@{exists}}
\index{exists@{exists}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{exists()}{exists()}}
{\footnotesize\ttfamily exists (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})}

\begin{DoxyVerb}Test if path exists.

Test if `path` exists as (and in this order):

- a local file.
- a remote URL that has been downloaded and stored locally in the
  `DataSource` directory.
- a remote URL that has not been downloaded, but is valid and
  accessible.

Parameters
----------
path : str
    Can be a local file or a remote URL.

Returns
-------
out : bool
    True if `path` exists.

Notes
-----
When `path` is an URL, `exists` will return True if it's either
stored locally in the `DataSource` directory, or is a valid remote
URL.  `DataSource` does not discriminate between the two, the file
is accessible if it exists in either location.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_repository_a73b5b3ac0457cad7a08b7f485a192cab}{Repository}}.

\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_af965e937253d2ff67613f684139fffc6}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_af965e937253d2ff67613f684139fffc6} 
\index{DataSource@{DataSource}!open@{open}}
\index{open@{open}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily open (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path,  }\item[{}]{mode = {\ttfamily \textquotesingle{}r\textquotesingle{}},  }\item[{}]{encoding = {\ttfamily None},  }\item[{}]{newline = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Open and return file-like object.

If `path` is an URL, it will be downloaded, stored in the
`DataSource` directory and opened from there.

Parameters
----------
path : str
    Local file path or URL to open.
mode : {'r', 'w', 'a'}, optional
    Mode to open `path`.  Mode 'r' for reading, 'w' for writing,
    'a' to append. Available modes depend on the type of object
    specified by `path`. Default is 'r'.
encoding : {None, str}, optional
    Open text file with given encoding. The default encoding will be
    what `io.open` uses.
newline : {None, str}, optional
    Newline to use when reading text file.

Returns
-------
out : file object
    File object.\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classnumpy_1_1lib_1_1__datasource_1_1_repository_af965e937253d2ff67613f684139fffc6}{Repository}}.



\doxysubsection{Field Documentation}
\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a84f79e9272a455dd196cdccf50a1d97b}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a84f79e9272a455dd196cdccf50a1d97b} 
\index{DataSource@{DataSource}!\_destpath@{\_destpath}}
\index{\_destpath@{\_destpath}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_destpath}{\_destpath}}
{\footnotesize\ttfamily \+\_\+destpath\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a891e6925c93554c65c2d10fe3312b3f4}\label{classnumpy_1_1lib_1_1__datasource_1_1_data_source_a891e6925c93554c65c2d10fe3312b3f4} 
\index{DataSource@{DataSource}!\_istmpdest@{\_istmpdest}}
\index{\_istmpdest@{\_istmpdest}!DataSource@{DataSource}}
\doxysubsubsection{\texorpdfstring{\_istmpdest}{\_istmpdest}}
{\footnotesize\ttfamily \+\_\+istmpdest\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
fluent20.\+1.\+0/cortex/pylib/nexus/numpy/lib/\mbox{\hyperlink{__datasource_8py}{\+\_\+datasource.\+py}}\end{DoxyCompactItemize}
