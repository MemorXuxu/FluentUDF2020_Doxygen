\doxysection{Ans\+Replayable\+Client.\+h}
\hypertarget{_ans_replayable_client_8h_source}{}\label{_ans_replayable_client_8h_source}\index{commonfiles20.1/PublicItf/AnsReplayableClient.h@{commonfiles20.1/PublicItf/AnsReplayableClient.h}}
\mbox{\hyperlink{_ans_replayable_client_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ COPYRIGHT\ ANSYS.\ ALL\ RIGHTS\ RESERVED}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ \_AnsReplayableClient\_h\_}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ \_AnsReplayableClient\_h\_}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_ans_client_8h}{AnsClient.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_i_playable_8h}{IPlayable.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_ans_recording_exception_8h}{AnsRecordingException.h}}"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_ans}{Ans}}\ \{}
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }Rpc\ \{}
\DoxyCodeLine{00015\ \ \ \ \ }
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client}{ReplayableClient}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_client}{Client}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_i_re_playable}{IRePlayable}}}
\DoxyCodeLine{00019\ \ \ \ \ \{}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client_a240147eb1a91a3f0510a171abd7d5213}{ReplayableClient}}(\textcolor{keyword}{const}\ std::string\ recName)}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ansrpc_8h_adfff9e92ca2baca4a72ec7020b586d15}{RpcString}}\ recordingNames[1];}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ recordingNames[0]\ =\ (\mbox{\hyperlink{ansrpc_8h_adfff9e92ca2baca4a72ec7020b586d15}{RpcString}})recName.c\_str();}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \_replayingStatus\ =\ ReplayStop;}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \_player\ =\ \mbox{\hyperlink{ansrpc_8h_a86a7a30b5cd2db4516bf5eaea73009bd}{RpcNewRecordingPlayer}}(recordingNames,\ 1);}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_player)}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_rpc_exception}{RpcException}}(\textcolor{stringliteral}{"{}Creating\ recording\ player\ failed"{}});}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ansrpc_8h_a6e8be5ce01025dc82900514b5b0334ab}{RpcRegistClientRecordingPlayer}}(\mbox{\hyperlink{class_ans_1_1_rpc_1_1_client_a98ecdfce3841a461e34699ea079f525a}{GetRpcClient}}(),\ \_player);}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ansrpc_8h_a5fcf1918fd84d5d08a591a70291d8770}{RpcSetClientMode}}(\mbox{\hyperlink{class_ans_1_1_rpc_1_1_client_a98ecdfce3841a461e34699ea079f525a}{GetRpcClient}}(),\ \mbox{\hyperlink{ansrpc_8h_a813a4804d9efe150ad18f66e8538ce67aa5ddf3a6d46dafb382c86d7e81427a12}{PlayBack}});}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client_abb49735579f879d072bcc5b46dd7c883}{StartReplay}}()}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \_replayingStatus\ =\ ReplayStart;}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client_a4a971cae48987253ddffe96b08abb01f}{StopReplay}}()}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \_replayingStatus\ =\ ReplayStop;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client_a86acb6465fa8872d4169a4a0acaa01cd}{HasRecords}}()}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \{\ \ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\_replayingStatus\ !=\ ReplayStart)}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ansrpc_8h_adfe323adfe7008c6dea116a0dc95f7a6}{PlayerHasRecords}}(\_player,\ \mbox{\hyperlink{ansrpc_8h_a8fb1b6b95fb5517c5bd1651c1ec58974a73304d92d7910fdc157fbf7ec9fb39a6}{IsClient}});\ \ }
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client_ae96d3aaa8db2c2382118de0198088093}{ReplayARecord}}()}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ status;}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ansrpc_8h_a7e4d530a9df63d6b3d41631522b35f33}{DBG}}(RPC\_CLIENTREPLAY,\ \mbox{\hyperlink{ansrpc_8h_a4e33aa6d036981fef97f529e0d41265d}{rpcLog}}(\textcolor{stringliteral}{"{}start\ to\ replay\ a\ record\(\backslash\)n"{}}));}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_rpc_request}{RpcRequest}}*\ reqSent\ =\ \mbox{\hyperlink{ansrpc_8h_adf0806a407c12dd3653ab715ea619fc9}{RpcNewRequest}}(\textcolor{stringliteral}{"{}"{}},\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_rpc_response}{RpcResponse}}*\ respReceived\ =\ \ \mbox{\hyperlink{ansrpc_8h_a1c55ee46480aa5cca4d1e4d8a0324e47}{RpcNewResponse}}(\mbox{\hyperlink{ansrpc__ftn_8h_a580b065fc8617298151ea278bfcc8647}{kRpcErrorNone}});}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ status\ =\ \mbox{\hyperlink{ansrpc_8h_a0e8786e305f98ae256c464ca48edb926}{RpcPlayBackOneRequest}}(\mbox{\hyperlink{class_ans_1_1_rpc_1_1_client_a98ecdfce3841a461e34699ea079f525a}{GetRpcClient}}(),\ reqSent,\ respReceived);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ansrpc_8h_a561474c73b902789b68cb6d7f5991494}{RpcDeleteRequest}}(reqSent);}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ansrpc_8h_af5a8648f7492ca1380a0d5384bea184b}{RpcDeleteResponse}}(respReceived);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ansrpc_8h_a00a26c28edc786c0042362c321a2a89b}{RPC\_FAILED}}(status))\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replay_exception}{ReplayException}}(\textcolor{stringliteral}{"{}Replay\ a\ request\ failed"{}});}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ansrpc_8h_a7e4d530a9df63d6b3d41631522b35f33}{DBG}}(RPC\_CLIENTREPLAY,\ \mbox{\hyperlink{ansrpc_8h_a4e33aa6d036981fef97f529e0d41265d}{rpcLog}}(\textcolor{stringliteral}{"{}replay\ a\ record\ end\(\backslash\)n"{}}));}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ status;}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client}{ReplayableClient}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client}{ReplayableClient}}\&\ \ anotherClient);}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client}{ReplayableClient}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_ans_1_1_rpc_1_1_replayable_client}{ReplayableClient}}\&\ \ anotherClient);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ ReplayStop,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ ReplayStart}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \}ReplayingStatus;}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_rpc_recording_player}{RpcRecordingPlayer}}*\ \_player;}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ ReplayingStatus\ \_replayingStatus;}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \}\}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
