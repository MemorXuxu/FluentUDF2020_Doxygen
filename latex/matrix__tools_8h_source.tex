\doxysection{matrix\+\_\+tools.\+h}
\hypertarget{matrix__tools_8h_source}{}\label{matrix__tools_8h_source}\index{fluent20.1.0/src/amg/matrix\_tools.h@{fluent20.1.0/src/amg/matrix\_tools.h}}
\mbox{\hyperlink{matrix__tools_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ *\ Copyright\ 1987-\/2020\ ANSYS,\ Inc.\ All\ Rights\ Reserved.}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ FLUENT\_MATRIX\_TOOLS\_H\_}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#\ define\ FLUENT\_MATRIX\_TOOLS\_H\_\ 1}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{amgif_8h}{amgif.h}}"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structmatrix__stats__struct}{matrix\_stats\_struct}}}
\DoxyCodeLine{00011\ \{}
\DoxyCodeLine{00012\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structmatrix__stats__struct_aa963fa630a27b9467529bfa5a814ea4f}{row\_count}};}
\DoxyCodeLine{00013\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structmatrix__stats__struct_a511b1bb36b458f4a15f4ec53268ec69b}{offdiag\_count}};}
\DoxyCodeLine{00014\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structmatrix__stats__struct_a98e11e005be9e3c439550bc1a559f598}{coupled\_eqn\_count}};}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structmatrix__stats__struct_a461e8997deb2c290a0866eb63ab1631e}{min\_neighbors}};}
\DoxyCodeLine{00017\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structmatrix__stats__struct_ae983c17e747c9635d11d9327e34eacab}{max\_neighbors}};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structmatrix__stats__struct_a97bba276d4433d1c992d09f86834074c}{diagonal\_dominance\_max}};}
\DoxyCodeLine{00020\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structmatrix__stats__struct_a2ff38d578356af6bf534d9f285af5865}{diagonal\_dominance\_min}};}
\DoxyCodeLine{00021\ \}\ \mbox{\hyperlink{matrix__tools_8h_acc3ddccaaf8e8fd4967cff0b230b3855}{Matrix\_Stats\_t}};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \mbox{\hyperlink{struct_level}{Level}}\ *\mbox{\hyperlink{matrix__tools_8h_a7ee22fb1963655a0ad666c98cd522ea0}{matrix\_fine\_level\_p}};\ \textcolor{comment}{/*\ last\ fine\ level\ solved\ or\ read\ */}}
\DoxyCodeLine{00024\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \mbox{\hyperlink{structmatrix__stats__struct}{Matrix\_Stats\_t}}\ \mbox{\hyperlink{matrix__tools_8h_a633f57e39309e8c074b94e0fe161ac04}{matrix\_stats}};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ MATRIX\_ALLOCATE(v,\ ap,\ r)\ Matrix\_Allocate((void\ **)(\&(v)),\ ap,\ r)}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{matrix__tools_8h_a0796b764304d76a3b3460e193fa62fc5}{Matrix\_Allocate}}(\textcolor{keywordtype}{void}\ **v,\ \textcolor{keywordtype}{size\_t}\ *allocated\_size,\ \textcolor{keywordtype}{size\_t}\ required\_size);}
\DoxyCodeLine{00029\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{matrix__tools_8h_a5b9903473459434008834d7ba28b65a7}{Write\_Matrix\_P}}(\textcolor{keywordtype}{char}\ *sysname);}
\DoxyCodeLine{00030\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{matrix__tools_8h_a2c596da87e5bd1a445a041a5298740b5}{Read\_Matrix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *head);}
\DoxyCodeLine{00031\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{matrix__tools_8h_a2a5a0573f1478200362c912bb059ab2d}{Write\_Matrix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *head,\ \textcolor{keywordtype}{int}\ niter,\ \textcolor{keywordtype}{int}\ *ascii\_io);}
\DoxyCodeLine{00032\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{matrix__tools_8h_ac3b98d7579b9f6f7bb2cc73d2fd9d0a9}{Write\_Matrix\_Row}}(\textcolor{keywordtype}{int}\ niter,\ \textcolor{keywordtype}{int}\ irow);}
\DoxyCodeLine{00033\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a759d5156ae31d5fce40661c9680837cc}{Write\_Matrix\_Diagnostics}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00034\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{matrix__tools_8h_a2e36183c30aa58a6d0bde3be151eb884}{Solve\_Matrix\_Kernel}}(\mbox{\hyperlink{struct_a_m_g___controls}{AMG\_Controls}}\ controls,\ \mbox{\hyperlink{struct_level}{Level}}\ \mbox{\hyperlink{amgif_8h_af6bd0e439b30d98604ba7649b71bd404}{fine}},\ \mbox{\hyperlink{global_8h_a031f8951175b43076c2084a6c2173410}{real}}\ *residual0,}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ (*solver\_kernel)(\mbox{\hyperlink{struct_a_m_g___controls}{AMG\_Controls}}\ controls,\ \mbox{\hyperlink{struct_level}{Level}}\ \mbox{\hyperlink{amgif_8h_af6bd0e439b30d98604ba7649b71bd404}{fine}}),}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ (*preconditioner\_kernel)(\mbox{\hyperlink{struct_a_m_g___controls}{AMG\_Controls}}\ controls,\ \mbox{\hyperlink{struct_level}{Level}}\ \mbox{\hyperlink{amgif_8h_af6bd0e439b30d98604ba7649b71bd404}{fine}}),}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ initialize\_solution,}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ compute\_initial\_residual,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ check\_convergence,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ verbosity);}
\DoxyCodeLine{00041\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{matrix__tools_8h_a3bc02a85e464f475d0195c548fcc6590}{Solve\_Matrix\_Base}}(\mbox{\hyperlink{struct_a_m_g___controls}{AMG\_Controls}}\ controls,\ \mbox{\hyperlink{struct_level}{Level}}\ \mbox{\hyperlink{amgif_8h_af6bd0e439b30d98604ba7649b71bd404}{fine}},\ \mbox{\hyperlink{global_8h_a031f8951175b43076c2084a6c2173410}{real}}\ residual0[],}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *solver\_name,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ *preconditioner\_name,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ initialize\_solution);}
\DoxyCodeLine{00045\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{matrix__tools_8h_a87935a4a7dbfcc015c0ccc701979c656}{Solve\_Matrix}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *solver\_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *preconditioner\_name);}
\DoxyCodeLine{00046\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a398f9621c5aa02087c3a9888ba0ac8ff}{Compute\_Matrix\_Residual}}(\mbox{\hyperlink{struct_level}{Level}}\ \mbox{\hyperlink{amgif_8h_af6bd0e439b30d98604ba7649b71bd404}{fine}},\ \textcolor{keywordtype}{double}\ residual[]);}
\DoxyCodeLine{00047\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a4e2b0e46d759e3ddb735ccc1e92b3fa7}{Matrix\_Residual}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00048\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_ad85b957cfeb87a55f1b360dead672b1d}{FLUENT\_AMG\_Residual}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00049\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a9b5c0eab3e97c945112ae7676e6e4b86}{Matrix\_Statistics}}(\textcolor{keywordtype}{int}\ print);}
\DoxyCodeLine{00050\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a0617e8151a805ea68900ec96a70a2562}{Read\_And\_Solve\_Matrix\_AMG}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *head);}
\DoxyCodeLine{00051\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a72969a43247cddb1f051387d937f2e28}{Print\_Coefficients}}(\mbox{\hyperlink{struct_a_m_g___controls}{AMG\_Controls}}\ controls,\ \mbox{\hyperlink{struct_level}{Level}}\ \mbox{\hyperlink{amgif_8h_af6bd0e439b30d98604ba7649b71bd404}{fine}});}
\DoxyCodeLine{00052\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_aae2a33d1c2f9a00e10a4ede670628e62}{Dump\_Coefficients}}(\mbox{\hyperlink{struct_a_m_g___controls}{AMG\_Controls}}\ controls,\ \mbox{\hyperlink{struct_level}{Level}}\ \mbox{\hyperlink{amgif_8h_af6bd0e439b30d98604ba7649b71bd404}{fine}});}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{sparse\_connectivity\_matrix\_struct}}}
\DoxyCodeLine{00055\ \{}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structsparse__connectivity__matrix__struct_a061459acc9e078fa4699e0e349887215}{rows}};}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structsparse__connectivity__matrix__struct_a4407a60bc4387adae24cee658711f2d9}{cols}};}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structsparse__connectivity__matrix__struct_a21fdc05d2b491a3c3d306fb946b2f823}{nonzeros}};}
\DoxyCodeLine{00059\ \ \ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{structsparse__connectivity__matrix__struct_a2a4cda2adec5ac75262729568c440067}{row}};}
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{structsparse__connectivity__matrix__struct_a5f21628ce4df34c18912e32b01812cf4}{col}};}
\DoxyCodeLine{00061\ \}\ \mbox{\hyperlink{matrix__tools_8h_a0c6930f13e19049be5a74e1462b7f992}{Sparse\_Connectivity\_Matrix}};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a17209798c20f3558257ae8bc6edad0b4}{SCM\_Resize}}(\textcolor{keywordtype}{int}\ rows,\ \textcolor{keywordtype}{int}\ cols,\ \textcolor{keywordtype}{int}\ nonzeros,}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A);}
\DoxyCodeLine{00065\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_aefa46ecdcef972314c479511a5efff7a}{SCM\_Count\_Nonzeros}}(\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A);}
\DoxyCodeLine{00066\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a4b7bf0e64d4b422534c3f802bd6728b0}{SCM\_Reset\_Rows}}(\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A);}
\DoxyCodeLine{00067\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_ab3399161ae62f216f108ddcfb37da10b}{SCM\_Transpose}}(\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A,}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *T);}
\DoxyCodeLine{00069\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a05de048e8f615b0fba1d99602edcaa38}{SCM\_Product}}(\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A,}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *B,}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *\mbox{\hyperlink{const_8h_a5c71a5e59a53413cd6c270266d63b031}{R}});}
\DoxyCodeLine{00072\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a312377fd77f36d9d6a9159b2699c4f08}{SCM\_Free}}(\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A);}
\DoxyCodeLine{00073\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_a80a3621140123e5a77bff3181b5c1d8c}{SCM\_Order\_Columns}}(\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A);}
\DoxyCodeLine{00074\ \mbox{\hyperlink{dll_8h_acd0ca54c9daf114298504bbca9d7966d}{FLUENT\_EXPORT}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__tools_8h_ad86babfb05ea00e505caf2d35b0bf04b}{SCM\_Print}}(\mbox{\hyperlink{structsparse__connectivity__matrix__struct}{Sparse\_Connectivity\_Matrix}}\ *A,\ \textcolor{keywordtype}{char}\ *label);}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ FLUENT\_MATRIX\_TOOLS\_H\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
